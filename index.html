<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0" />
<title>ECHO JR · UPDATE GOD</title>
<style>
  :root {--pink:#ff6b9d;--bg:#fff;--modal:#111;}
  html,body{
    margin:0;height:100%;
    background:var(--bg);color:var(--pink);
    font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;
    display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;
  }
  footer{margin-top:10px;font-size:18px;font-weight:900;letter-spacing:2px;text-transform:uppercase;}
  .jr-btn,#githubSearch{
    margin-top:16px;width:240px;padding:12px 24px;border:none;border-radius:30px;
    background:var(--pink);color:#fff;font-size:18px;font-weight:600;text-align:center;
    box-shadow:0 4px 14px rgba(255,107,157,.4);transition:transform .15s ease,box-shadow .15s ease;cursor:pointer;
  }
  .jr-btn:hover,#githubSearch:focus{
    transform:scale(1.05);box-shadow:0 6px 18px rgba(255,107,157,.5);outline:none;
  }

  /* Textbox modal */
  .code-modal{
    position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);
    width:90%;max-width:480px;height:340px;background:#fff;
    color:#000;border-radius:20px;box-shadow:0 8px 24px rgba(0,0,0,.3);
    display:none;flex-direction:column;align-items:center;justify-content:flex-start;padding:20px;
  }
  .code-modal h3{margin:0 0 10px;color:var(--pink);}
  .code-area{
    width:100%;flex:1;border:2px solid var(--pink);
    border-radius:10px;padding:10px;font-family:monospace;
    resize:none;outline:none;font-size:15px;color:#333;
  }
  .close-btn{
    margin-top:12px;background:var(--pink);color:#fff;border:none;
    border-radius:20px;padding:8px 24px;font-weight:600;cursor:pointer;
  }
</style>
</head>
<body>
  <footer>ECHO JR · UPDATE GOD</footer>

  <input type="text" id="githubSearch" placeholder="GitHub Search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
  <button class="jr-btn" id="addBtn">Add</button>
  <button class="jr-btn" id="removeBtn">Remove</button>
  <button class="jr-btn" id="replaceBtn">Replace</button>

  <!-- Paste code modal -->
  <div id="codeModal" class="code-modal">
    <h3 id="codeModalTitle">Paste Code</h3>
    <textarea id="codeArea" class="code-area" placeholder="Paste your code here..."></textarea>
    <button id="closeCode" class="close-btn">Close</button>
  </div>

<script>
const input = document.getElementById("githubSearch");
const codeModal = document.getElementById("codeModal");
const codeArea = document.getElementById("codeArea");
const codeTitle = document.getElementById("codeModalTitle");
const closeCode = document.getElementById("closeCode");

// open modal when a button is pressed
function openCodeBox(action){
  codeTitle.textContent = `Paste Code (${action.toUpperCase()})`;
  codeArea.value = "";
  codeModal.style.display = "flex";
  codeArea.focus();
}

// close modal
closeCode.onclick = () => {
  const pasted = codeArea.value.trim();
  if(pasted){
    localStorage.setItem("echojr-last-code", pasted);
    console.log(`Echo Jr stored ${pasted.length} characters from ${codeTitle.textContent}`);
  }
  codeModal.style.display = "none";
};

// link buttons
document.getElementById("addBtn").onclick = () => openCodeBox("add");
document.getElementById("removeBtn").onclick = () => openCodeBox("remove");
document.getElementById("replaceBtn").onclick = () => openCodeBox("replace");

// Enter key triggers GitHub search modal (kept as before)
input.addEventListener("keydown", e=>{
  if(e.key!=="Enter")return;
  e.preventDefault();
  console.log("GitHub Search triggered for:", input.value);
});
</script>
<script src="js/echojr.brain.js"></script>
</body>
</html>
