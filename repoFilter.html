<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
:root { --pink:#ff2e88; --white:#fff; }

html,body{
  margin:0;padding:0;height:100%;width:100%;background:transparent;
  display:flex;align-items:end;justify-content:center;overflow:hidden;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;
}

#filterBox{
  position:relative;
  width:80%;
  margin-bottom:25px;
  transition:all .3s ease;
}

input{
  width:100%;
  padding:12px 20px;
  border-radius:20px;
  border:2px solid var(--pink);
  background:#fff;
  color:var(--pink);
  font-size:17px;
  text-align:center;
  box-shadow:0 0 30px rgba(255,47,137,0.45);
  outline:none;
  transition:all .3s ease;
}

input:focus{
  transform:scale(1.02);
  box-shadow:0 0 45px rgba(255,47,137,0.6);
}

.hidden{opacity:0;pointer-events:none;}
.visible{opacity:1;pointer-events:auto;}
</style>
</head>
<body>
<div id="filterBox" class="hidden">
  <input id="repoFilter" type="text" placeholder="Filter repositories..." autocomplete="off" />
</div>

<script>
const box = document.getElementById('filterBox');
const input = document.getElementById('repoFilter');

// show box on focus
window.addEventListener('message', e=>{
  if(e.data==='showFilter'){
    box.classList.remove('hidden');
    box.classList.add('visible');
    input.focus();
  }else if(e.data==='hideFilter'){
    box.classList.remove('visible');
    box.classList.add('hidden');
    input.blur();
  }
});

// send filter text to parent live
input.addEventListener('input',()=>{
  parent.postMessage({type:'filter', value:input.value}, '*');
});

// hide when unfocused
input.addEventListener('blur',()=>{
  parent.postMessage('hideFilter','*');
});
</script>
</body>
</html>
